<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Journalist Portfolio</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>

:root{
--bg:#f4f4f4;
--text:#111;
--accent:#b30000;
--card:white;
}

*{margin:0;padding:0;box-sizing:border-box;}

body{
font-family:'Inter',sans-serif;
background:var(--bg);
color:var(--text);
padding:40px 20px;
}

.container{
max-width:900px;
margin:auto;
}

h1{
font-family:'Playfair Display',serif;
font-size:40px;
margin-bottom:10px;
}

.subtitle{
opacity:0.7;
margin-bottom:40px;
}

.article{
background:var(--card);
padding:25px;
margin-bottom:25px;
border-radius:8px;
box-shadow:0 5px 20px rgba(0,0,0,0.05);
}

.article img{
width:100%;
margin-top:15px;
border-radius:6px;
}

.article a{
display:inline-block;
margin-top:15px;
color:var(--accent);
text-decoration:none;
font-weight:600;
}

.admin-panel{
background:#111;
color:white;
padding:30px;
border-radius:10px;
margin-bottom:40px;
}

.admin-panel input,
.admin-panel textarea{
width:100%;
padding:10px;
margin-top:10px;
border:none;
border-radius:6px;
}

.admin-panel button{
margin-top:15px;
padding:10px 15px;
border:none;
background:var(--accent);
color:white;
cursor:pointer;
border-radius:6px;
}

.hidden{display:none;}

.footer{
margin-top:60px;
font-size:14px;
opacity:0.6;
text-align:center;
}

</style>
</head>
<body>

<div class="container">

<h1>Mening Ijodiy Maqolalarim</h1>
<div class="subtitle">
Jurnalistika yo‘nalishi bo‘yicha chop etilgan maqolalar to‘plami
</div>

<div id="adminPanel" class="admin-panel hidden">
<h2>Yangi maqola qo‘shish</h2>
<input type="text" id="title" placeholder="Maqola nomi">
<textarea id="description" placeholder="Qisqacha tavsif"></textarea>
<input type="file" id="imageUpload" accept="image/*">
<input type="file" id="pdfUpload" accept=".pdf">
<button onclick="addArticle()">Saqlash</button>
</div>

<div id="articles"></div>

<div class="footer">
© 2026 | Shaxsiy jurnalist portfolio
</div>

</div>

<script>

const SECRET_KEY = "2026press";

const urlParams = new URLSearchParams(window.location.search);
if(urlParams.get("admin") === SECRET_KEY){
document.getElementById("adminPanel").classList.remove("hidden");
}

let articles = JSON.parse(localStorage.getItem("journalArticles")) || [];

function addArticle(){
let title = document.getElementById("title").value;
let desc = document.getElementById("description").value;
let imgFile = document.getElementById("imageUpload").files[0];
let pdfFile = document.getElementById("pdfUpload").files[0];

if(!title) return alert("Sarlavha kiriting");

let reader = new FileReader();

reader.onload = function(e){
let imageData = e.target.result;

if(pdfFile){
let pdfReader = new FileReader();
pdfReader.onload = function(p){
saveArticle(title, desc, imageData, p.target.result);
}
pdfReader.readAsDataURL(pdfFile);
}else{
saveArticle(title, desc, imageData, null);
}

}

if(imgFile){
reader.readAsDataURL(imgFile);
}else{
reader.onload({target:{result:null}});
}
}

function saveArticle(title, desc, img, pdf){
articles.unshift({
title:title,
desc:desc,
img:img,
pdf:pdf
});
localStorage.setItem("journalArticles", JSON.stringify(articles));
renderArticles();
}

function renderArticles(){
let container = document.getElementById("articles");
container.innerHTML="";

articles.forEach(article=>{
container.innerHTML+=`
<div class="article">
<h2>${article.title}</h2>
<p>${article.desc}</p>
${article.img ? `<img src="${article.img}">` : ""}
${article.pdf ? `<a href="${article.pdf}" target="_blank">PDF ni ochish</a>` : ""}
</div>
`;
});
}

renderArticles();

</script>

</body>
</html>